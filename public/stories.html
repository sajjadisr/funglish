<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>فهرست داستان‌ها - فانگلیش</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">رفتن به محتوا</a>
  <header>
    <div class="container header-content">
      <a href="../index.html" class="logo" tabindex="0" aria-label="صفحه اصلی فانگلیش">
        <i class="fas fa-language"></i>
        فانگلیش
      </a>
      <div style="display:flex; align-items:center; gap:8px;">
        <button class="toggle-btn" id="theme-toggle" aria-label="تغییر حالت نور/تاریک">
          <i class="fas fa-moon"></i>
          <span id="theme-text">حالت تیره</span>
        </button>
        <button class="toggle-btn" id="login-btn" aria-label="ورود">
          <i class="fas fa-user"></i> ورود
        </button>
        <div id="user-menu" class="user-menu" style="display:none;">
          <div class="user-chip" title="حساب کاربری">
            <span id="user-avatar" class="user-avatar">U</span>
            <span id="user-name" class="user-name">کاربر</span>
          </div>
          <button class="toggle-btn" id="logout-btn" aria-label="خروج">
            <i class="fas fa-sign-out-alt"></i> خروج
          </button>
        </div>
      </div>
    </div>
  </header>
  <main class="container" id="main-content">
    <h1 class="section-title">داستان‌های انگلیسی با ترجمه</h1>
    <div id="story-container" class="loaded-content"></div>
  </main>
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-section" id="about">
          <h3>درباره فانگلیش</h3>
          <ul>
            <li><a href="#mission">ماموریت ما</a></li>
            <li><a href="#team">تیم ما</a></li>
            <li><a href="#contact">تماس با ما</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>منابع</h3>
          <ul>
            <li><a href="#blog">وبلاگ</a></li>
            <li><a href="#tutorials">آموزش‌ها</a></li>
            <li><a href="#faq">سوالات متداول</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>قوانین</h3>
          <ul>
            <li><a href="#privacy">حریم خصوصی</a></li>
            <li><a href="#terms">شرایط استفاده</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>شبکه‌های اجتماعی</h3>
          <ul>
            <li><a href="https://www.instagram.com/rohallah.sajadi/" target="_blank" rel="noopener noreferrer" aria-label="اینستاگرام"><i class="fab fa-instagram"></i> اینستاگرام</a></li>
            <li><a href="https://github.com/sajjadisr/funglish" target="_blank" rel="noopener noreferrer" aria-label="گیت‌هاب"><i class="fab fa-github"></i> گیت‌هاب</a></li>
            <li><a href="#" aria-label="یوتیوب"><i class="fab fa-youtube"></i> یوتیوب</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>© ۲۰۲۵ فانگلیش. تمام حقوق محفوظ است.</p>
      </div>
    </div>
  </footer>

  <!-- Auth Modal -->
  <div id="auth-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="auth-title">
    <div class="modal-content">
      <button class="modal-close" id="auth-close" aria-label="بستن">&times;</button>
      <h2 id="auth-title">ورود</h2>
      <form id="auth-form" class="auth-form">
        <label for="auth-name">نام</label>
        <input id="auth-name" name="name" type="text" placeholder="نام شما" required>
        <label for="auth-email">ایمیل</label>
        <input id="auth-email" name="email" type="email" placeholder="you@example.com" required>
        <button type="submit" class="btn btn-primary" style="margin-top:12px;">
          ادامه
        </button>
      </form>
    </div>
  </div>

  <script>
    // Theme Toggle
    document.addEventListener('DOMContentLoaded', function() {
      const themeToggle = document.getElementById('theme-toggle');
      const themeIcon = themeToggle.querySelector('i');
      const themeText = document.getElementById('theme-text');
      const savedTheme = localStorage.getItem('theme');
      const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const initialTheme = savedTheme ? savedTheme : (prefersDarkScheme ? 'dark' : 'light');
      document.body.classList.toggle('dark-mode', initialTheme === 'dark');
      updateToggleUI(initialTheme);
      function toggleTheme() {
          const isDarkMode = document.body.classList.contains('dark-mode');
          const newTheme = isDarkMode ? 'light' : 'dark';
          document.body.classList.toggle('dark-mode', newTheme === 'dark');
          localStorage.setItem('theme', newTheme);
          updateToggleUI(newTheme);
      }
      function updateToggleUI(theme) {
          if (theme === 'dark') {
              themeIcon.className = 'fas fa-sun';
              themeText.textContent = 'حالت نور';
          } else {
              themeIcon.className = 'fas fa-moon';
              themeText.textContent = 'حالت تیره';
          }
      }
      themeToggle.addEventListener('click', toggleTheme);
    });
  </script>
  <script src="../js/auth.js"></script>
  <script src="../js/stories-loader.js"></script>
</body>
</html>