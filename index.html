<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>فانگلیش - یادگیری انگلیسی با پشتیبانی فارسی</title>
  <meta name="description" content="یادگیری انگلیسی با پشتیبانی فارسی و ابزارهای تعاملی، داستان‌های کوتاه، متن ساده، پادکست و ترجمه سریع.">
  <meta property="og:title" content="فانگلیش - یادگیری انگلیسی با پشتیبانی فارسی">
  <meta property="og:description" content="انگلیسی را با داستان کوتاه، متن ساده و ابزارهای هوشمند به‌راحتی یاد بگیرید.">
  <meta property="og:image" content="https://funglish.ir/public/images/og-image.png">
  <meta property="og:type" content="website">
  <link rel="icon" href="./public/images/favicon.ico">
  <link rel="stylesheet" href="./public/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body lang="fa">
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link" data-i18n="skip_to_content">رفتن به محتوا</a>
  <header>
    <div class="container header-content">
      <a href="index.html" class="logo" tabindex="0" aria-label="صفحه اصلی فانگلیش" data-i18n-attr="aria-label:logo_home_aria">
        <i class="fas fa-language"></i>
        فانگلیش
      </a>
      <nav aria-label="منوی اصلی" data-i18n-attr="aria-label:nav_main_aria">
        <ul>
          <li><a href="./public/stories.html" data-i18n="nav_stories"><i class="fas fa-book-open"></i> داستان‌ها</a></li>
          <li><a href="#simple-text" data-i18n="nav_simple_text"><i class="fas fa-align-left"></i> متن ساده</a></li>
          <li><a href="#podcasts" data-i18n="nav_podcasts"><i class="fas fa-headphones"></i> پادکست</a></li>
          <li class="dropdown">
            <a href="#" aria-haspopup="true" aria-expanded="false" data-i18n="nav_tools"><i class="fas fa-tools"></i> ابزارها</a>
            <div class="dropdown-content" role="menu">
              <a href="#subtitle-tool" data-i18n="tools_subtitle"><i class="fas fa-closed-captioning"></i> زیرنویس هوشمند ویدیو</a>
              <a href="#vocab-tool" data-i18n="tools_vocab"><i class="fas fa-language"></i> یادگیری لغت</a>
            </div>
          </li>
          <li><a href="./public/about.html" data-i18n="nav_about"><i class="fas fa-info-circle"></i> درباره</a></li>
        </ul>
      </nav>
      <div style="display:flex; align-items:center; gap:8px;">
        <button class="toggle-btn" id="lang-toggle" aria-label="تغییر زبان به انگلیسی" data-i18n-attr="aria-label:lang_toggle_aria">
          <i class="fas fa-globe"></i> English
        </button>
        <button class="toggle-btn" id="theme-toggle" aria-label="تغییر حالت تیره" data-i18n-attr="aria-label:header_theme_toggle_aria">
          <i class="fas fa-moon"></i> حالت تیره
        </button>
        <button class="toggle-btn" id="login-btn" aria-label="ورود" data-i18n="header_login" data-i18n-attr="aria-label:header_login_aria">
          <i class="fas fa-user"></i> ورود
        </button>
        <div id="user-menu" class="user-menu" style="display:none;">
          <div class="user-chip" title="حساب کاربری" data-i18n-attr="title:user_menu_title">
            <span id="user-avatar" class="user-avatar">U</span>
            <span id="user-name" class="user-name">کاربر</span>
          </div>
          <button class="toggle-btn" id="logout-btn" aria-label="خروج" data-i18n="header_logout" data-i18n-attr="aria-label:header_logout_aria">
            <i class="fas fa-sign-out-alt"></i> خروج
          </button>
        </div>
      </div>
    </div>
  </header>

     <section class="hero" role="banner">
    <div class="container hero-content">
      <h1 data-i18n="hero_title">یادگیری انگلیسی با پشتیبانی فارسی</h1>
      <p data-i18n="hero_subtitle">
        فانگلیش با داستان کوتاه، متن ساده، و ابزار هوشمند، یادگیری انگلیسی را برای فارسی‌زبانان آسان و جذاب می‌کند. هر محتوایی با ترجمه و توضیح ارائه می‌شود.
      </p>
      <div class="cta-buttons">
        <a class="btn btn-primary" href="./public/stories.html" data-i18n="cta_stories"><i class="fas fa-book-open"></i> داستان کوتاه</a>
        <a class="btn btn-secondary" href="#simple-text" data-i18n="cta_simple_text"><i class="fas fa-align-left"></i> متن ساده</a>
        <a class="btn btn-secondary" href="#subtitle-tool" data-i18n="cta_subtitle_tool"><i class="fas fa-closed-captioning"></i> ابزار زیرنویس</a>
      </div>
    </div>
  </section>

  <main class="container" id="main-content">
    <!-- متن ساده Section -->
    <section id="simple-text" class="site-description animate__animated animate__fadeIn">
      <h2 data-i18n="simple_text_title">متن‌های ساده انگلیسی با ترجمه</h2>
      <p data-i18n="simple_text_desc">
        گلچینی از متن‌های ساده و کاربردی برای شروع یادگیری انگلیسی. هر متن با ترجمه فارسی و واژگان کلیدی ارائه می‌شود.
      </p>
    </section>

    <!-- پادکست Section -->
    <section id="podcasts" class="site-description animate__animated animate__fadeIn">
      <h2 data-i18n="podcasts_title">پادکست‌های آموزشی انگلیسی</h2>
      <p data-i18n="podcasts_desc">
        به زودی: پادکست‌های کوتاه و قابل فهم برای تقویت شنیداری همراه با ترجمه فارسی و واژگان.
      </p>
    </section>

    <!-- ابزار زیرنویس Section -->
    <section id="subtitle-tool" class="subtitle-tool animate__animated animate__fadeIn">
      <h2 data-i18n="subtitle_title">ابزار زیرنویس هوشمند ویدیویی</h2>
      <p data-i18n="subtitle_desc">
        به زودی: با استفاده از فناوری GPT، ویدیوهای انگلیسی را با زیرنویس تعاملی و ترجمه فارسی تماشا کنید.
      </p>
      <div class="coming-soon" data-i18n="coming_soon">به زودی</div>
    </section>

    <h2 class="section-title" data-i18n="featured_content">محتواهای آموزشی منتخب</h2>
    <section id="content-container" class="loaded-content" aria-live="polite"></section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-section" id="about">
          <h3 data-i18n="footer_about">درباره فانگلیش</h3>
          <ul>
            <li><a href="#mission" data-i18n="footer_mission">ماموریت ما</a></li>
            <li><a href="#team" data-i18n="footer_team">تیم ما</a></li>
            <li><a href="#contact" data-i18n="footer_contact">تماس با ما</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3 data-i18n="footer_resources">منابع</h3>
          <ul>
            <li><a href="#blog" data-i18n="footer_blog">وبلاگ</a></li>
            <li><a href="#tutorials" data-i18n="footer_tutorials">آموزش‌ها</a></li>
            <li><a href="#faq" data-i18n="footer_faq">سوالات متداول</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3 data-i18n="footer_rules">قوانین</h3>
          <ul>
            <li><a href="#privacy" data-i18n="footer_privacy">حریم خصوصی</a></li>
            <li><a href="#terms" data-i18n="footer_terms">شرایط استفاده</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3 data-i18n="footer_social">شبکه‌های اجتماعی</h3>
          <ul>
            <li><a href="https://www.instagram.com/rohallah.sajadi/" target="_blank" rel="noopener noreferrer" aria-label="اینستاگرام"><i class="fab fa-instagram"></i> <span data-i18n="footer_instagram">اینستاگرام</span></a></li>
            <li><a href="https://github.com/sajjadisr/funglish" target="_blank" rel="noopener noreferrer" aria-label="گیت‌هاب"><i class="fab fa-github"></i> <span data-i18n="footer_github">گیت‌هاب</span></a></li>
            <li><a href="#" aria-label="یوتیوب"><i class="fab fa-youtube"></i> <span data-i18n="footer_youtube">یوتیوب</span></a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p data-i18n="footer_copyright">© ۲۰۲۵ فانگلیش. تمام حقوق محفوظ است.</p>
      </div>
    </div>
  </footer>

  <script>
    // Simple homepage i18n map
    const i18n = {
      hero_title: { fa: 'یادگیری انگلیسی با پشتیبانی فارسی', en: 'Learn English with Persian Support' },
      hero_subtitle: { fa: 'فانگلیش با داستان کوتاه، متن ساده، و ابزار هوشمند، یادگیری انگلیسی را برای فارسی‌زبانان آسان و جذاب می‌کند. هر محتوایی با ترجمه و توضیح ارائه می‌شود.', en: 'Funglish makes learning English easy and fun for Persian speakers with short stories, simple texts, and smart tools. Every piece comes with translation and explanations.' },
      cta_stories: { fa: '<i class="fas fa-book-open"></i> داستان کوتاه', en: '<i class="fas fa-book-open"></i> Short Stories' },
      cta_simple_text: { fa: '<i class="fas fa-align-left"></i> متن ساده', en: '<i class="fas fa-align-left"></i> Simple Texts' },
      cta_subtitle_tool: { fa: '<i class="fas fa-closed-captioning"></i> ابزار زیرنویس', en: '<i class="fas fa-closed-captioning"></i> Subtitle Tool' },
      simple_text_title: { fa: 'متن‌های ساده انگلیسی با ترجمه', en: 'Simple English Texts with Translation' },
      simple_text_desc: { fa: 'گلچینی از متن‌های ساده و کاربردی برای شروع یادگیری انگلیسی. هر متن با ترجمه فارسی و واژگان کلیدی ارائه می‌شود.', en: 'A selection of simple, practical texts to start learning English. Each comes with Persian translation and key vocabulary.' },
      podcasts_title: { fa: 'پادکست‌های آموزشی انگلیسی', en: 'Educational English Podcasts' },
      podcasts_desc: { fa: 'به زودی: پادکست‌های کوتاه و قابل فهم برای تقویت شنیداری همراه با ترجمه فارسی و واژگان.', en: 'Coming soon: short, easy-to-follow podcasts to improve listening, with Persian translation and vocabulary.' },
      subtitle_title: { fa: 'ابزار زیرنویس هوشمند ویدیویی', en: 'Smart Video Subtitle Tool' },
      subtitle_desc: { fa: 'به زودی: با استفاده از فناوری GPT، ویدیوهای انگلیسی را با زیرنویس تعاملی و ترجمه فارسی تماشا کنید.', en: 'Coming soon: watch English videos with interactive subtitles and Persian translation powered by GPT.' },
      coming_soon: { fa: 'به زودی', en: 'Coming Soon' },
      featured_content: { fa: 'محتواهای آموزشی منتخب', en: 'Featured Learning Content' },
      // Header/Nav
      skip_to_content: { fa: 'رفتن به محتوا', en: 'Skip to content' },
      nav_stories: { fa: '<i class="fas fa-book-open"></i> داستان‌ها', en: '<i class="fas fa-book-open"></i> Stories' },
      nav_simple_text: { fa: '<i class="fas fa-align-left"></i> متن ساده', en: '<i class="fas fa-align-left"></i> Simple Texts' },
      nav_podcasts: { fa: '<i class="fas fa-headphones"></i> پادکست', en: '<i class="fas fa-headphones"></i> Podcasts' },
      nav_tools: { fa: '<i class="fas fa-tools"></i> ابزارها', en: '<i class="fas fa-tools"></i> Tools' },
      nav_about: { fa: '<i class="fas fa-info-circle"></i> درباره', en: '<i class="fas fa-info-circle"></i> About' },
      tools_subtitle: { fa: '<i class="fas fa-closed-captioning"></i> زیرنویس هوشمند ویدیو', en: '<i class="fas fa-closed-captioning"></i> Smart Video Subtitles' },
      tools_vocab: { fa: '<i class="fas fa-language"></i> یادگیری لغت', en: '<i class="fas fa-language"></i> Vocabulary' },
      header_login: { fa: '<i class="fas fa-user"></i> ورود', en: '<i class="fas fa-user"></i> Login' },
      header_logout: { fa: '<i class="fas fa-sign-out-alt"></i> خروج', en: '<i class="fas fa-sign-out-alt"></i> Logout' },
      header_theme_dark: { fa: 'حالت تیره', en: 'Dark mode' },
      header_theme_light: { fa: 'حالت نور', en: 'Light mode' },
      // Auth modal
      auth_title: { fa: 'ورود', en: 'Login' },
      auth_name_label: { fa: 'نام', en: 'Name' },
      auth_email_label: { fa: 'ایمیل', en: 'Email' },
      auth_submit: { fa: 'ادامه', en: 'Continue' },
      // Head tags
      page_title: { fa: 'فانگلیش - یادگیری انگلیسی با پشتیبانی فارسی', en: 'Funglish - Learn English with Persian Support' },
      meta_description: { fa: 'یادگیری انگلیسی با پشتیبانی فارسی و ابزارهای تعاملی، داستان‌های کوتاه، متن ساده، پادکست و ترجمه سریع.', en: 'Learn English with Persian support, interactive tools, short stories, simple texts, podcasts, and quick translation.' },
      footer_about: { fa: 'درباره فانگلیش', en: 'About Funglish' },
      footer_mission: { fa: 'ماموریت ما', en: 'Our Mission' },
      footer_team: { fa: 'تیم ما', en: 'Our Team' },
      footer_contact: { fa: 'تماس با ما', en: 'Contact Us' },
      footer_resources: { fa: 'منابع', en: 'Resources' },
      footer_blog: { fa: 'وبلاگ', en: 'Blog' },
      footer_tutorials: { fa: 'آموزش‌ها', en: 'Tutorials' },
      footer_faq: { fa: 'سوالات متداول', en: 'FAQ' },
      footer_rules: { fa: 'قوانین', en: 'Rules' },
      footer_privacy: { fa: 'حریم خصوصی', en: 'Privacy' },
      footer_terms: { fa: 'شرایط استفاده', en: 'Terms' },
      footer_social: { fa: 'شبکه‌های اجتماعی', en: 'Social' },
      footer_instagram: { fa: 'اینستاگرام', en: 'Instagram' },
      footer_github: { fa: 'گیت‌هاب', en: 'GitHub' },
      footer_youtube: { fa: 'یوتیوب', en: 'YouTube' },
      footer_copyright: { fa: '© ۲۰۲۵ فانگلیش. تمام حقوق محفوظ است.', en: '© 2025 Funglish. All rights reserved.' },
      // ARIA / placeholders
      logo_home_aria: { fa: 'صفحه اصلی فانگلیش', en: 'Funglish Home' },
      nav_main_aria: { fa: 'منوی اصلی', en: 'Main navigation' },
      lang_toggle_aria: { fa: 'تغییر زبان به انگلیسی', en: 'Switch to Persian' },
      header_theme_toggle_aria: { fa: 'تغییر حالت تیره', en: 'Toggle dark mode' },
      header_login_aria: { fa: 'ورود', en: 'Login' },
      header_logout_aria: { fa: 'خروج', en: 'Logout' },
      user_menu_title: { fa: 'حساب کاربری', en: 'Account' },
      auth_close_aria: { fa: 'بستن', en: 'Close' },
      auth_name_ph: { fa: 'نام شما', en: 'Your name' },
      auth_email_ph: { fa: 'you@example.com', en: 'you@example.com' }
    };
    // Theme Toggle
    const themeToggle = document.getElementById('theme-toggle');
    function updateThemeToggleUI(lang) {
      const isDark = document.body.classList.contains('dark-mode');
      const label = isDark ? (lang === 'fa' ? 'حالت نور' : 'Light mode') : (lang === 'fa' ? 'حالت تیره' : 'Dark mode');
      const icon = isDark ? 'fa-sun' : 'fa-moon';
      themeToggle.innerHTML = `<i class="fas ${icon}"></i> ${label}`;
      try {
        const aria = i18n.header_theme_toggle_aria ? i18n.header_theme_toggle_aria[lang] : '';
        if (aria) themeToggle.setAttribute('aria-label', aria);
      } catch (_) {}
    }
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const lang = document.body.getAttribute('lang') || 'fa';
      updateThemeToggleUI(lang);
    });

    // Language Toggle with persistence and proper dir/lang handling
    const langToggle = document.getElementById('lang-toggle');
         function applyLanguage(lang) {
       document.body.setAttribute('lang', lang);
       document.documentElement.setAttribute('dir', lang === 'fa' ? 'rtl' : 'ltr');
       document.documentElement.setAttribute('lang', lang);
       langToggle.innerHTML = `<i class="fas fa-globe"></i> ${lang === 'fa' ? 'English' : 'فارسی'}`;
       langToggle.setAttribute('aria-label', lang === 'fa' ? 'Switch to English' : 'تغییر زبان به فارسی');
       // Update page text content based on language
       const t = lang === 'fa' ? 'fa' : 'en';
       document.querySelectorAll('[data-i18n]')
         .forEach(el => {
           const key = el.getAttribute('data-i18n');
           if (i18n[key] && i18n[key][t] != null) {
             el.innerHTML = i18n[key][t];
           }
         });
       // Update attributes that declare data-i18n-attr like "aria-label:key;placeholder:key2"
       document.querySelectorAll('[data-i18n-attr]')
         .forEach(el => {
           const conf = el.getAttribute('data-i18n-attr') || '';
           conf.split(';').forEach(pair => {
             const [attr, k] = pair.split(':').map(s => (s || '').trim());
             if (!attr || !k) return;
             const dict = i18n[k];
             if (dict && dict[t] != null) el.setAttribute(attr, dict[t]);
           });
         });
       updateThemeToggleUI(lang);
       // Update document title and meta description
       try { document.title = i18n.page_title ? i18n.page_title[lang] : document.title; } catch (e) {}
       try {
         const metaDesc = document.querySelector('meta[name="description"]');
         if (metaDesc && i18n.meta_description && i18n.meta_description[lang]) {
           metaDesc.setAttribute('content', i18n.meta_description[lang]);
         }
       } catch (e) {}
       window.dispatchEvent(new CustomEvent('language-changed', { detail: { lang } }));
     }
     const savedLang = localStorage.getItem('lang') || 'fa';
     applyLanguage(savedLang);
     updateThemeToggleUI(savedLang);
     langToggle.addEventListener('click', () => {
       const next = document.body.getAttribute('lang') === 'fa' ? 'en' : 'fa';
       localStorage.setItem('lang', next);
       applyLanguage(next);
     });
   </script>

  <!-- Auth Modal -->
  <div id="auth-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="auth-title">
    <div class="modal-content">
      <button class="modal-close" id="auth-close" aria-label="بستن" data-i18n-attr="aria-label:auth_close_aria">&times;</button>
      <h2 id="auth-title" data-i18n="auth_title">ورود</h2>
      <form id="auth-form" class="auth-form">
        <label for="auth-name" data-i18n="auth_name_label">نام</label>
        <input id="auth-name" name="name" type="text" placeholder="نام شما" required data-i18n-attr="placeholder:auth_name_ph">
        <label for="auth-email" data-i18n="auth_email_label">ایمیل</label>
        <input id="auth-email" name="email" type="email" placeholder="you@example.com" required data-i18n-attr="placeholder:auth_email_ph">
        <button type="submit" class="btn btn-primary" style="margin-top:12px;" data-i18n="auth_submit">
          ادامه
        </button>
      </form>
    </div>
  </div>

  <script src="js/auth.js"></script>
  <script src="content-loader.js"></script>
</body>
</html>